{"ast":null,"code":"import _objectSpread from\"C:/Users/Pablo/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/Pablo/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Pablo/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';import{Box,TextField,Button}from'@mui/material';import{useFormik}from'formik';import*as yup from'yup';import useAxios from'../utils/useAxios';import SendIcon from'@mui/icons-material/Send';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function MensajeForm(_ref){var invitados=_ref.invitados,confirmado=_ref.confirmado,data=_ref.data;var api=useAxios();var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(values){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(values);_context.next=3;return api.post('invimasiva/',values);case 3:response=_context.sent;console.log(response);case 5:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();var validationSchema=yup.object({mensaje:yup.string().min(10,\"el mensaje debe ser superior a 10 caracteres\").required(\"el mensaje es obligatorio\")});var formik=useFormik({initialValues:{mensaje:''},validationSchema:validationSchema,onSubmit:function onSubmit(values){if(confirmado){var solicitud=data[0];values=_objectSpread(_objectSpread({},values),{},{invitados:invitados,solicitud:solicitud});handleSubmit(values);}}});return/*#__PURE__*/_jsx(Box,{sx:{width:'100%',padding:2,display:'flex',flexDirection:'column'},children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:formik.handleSubmit,style:{display:'flex',flexDirection:'column',alignItems:'center',width:'100%'},children:[/*#__PURE__*/_jsx(TextField,{multiline:true,rows:3,label:\"mensaje\",name:\"mensaje\",onChange:formik.handleChange,value:formik.values.mensaje,error:formik.touched.mensaje&&Boolean(formik.errors.mensaje),helperText:formik.touched.mensaje&&formik.errors.mensaje,fullWidth:true}),invitados&&invitados.length>0&&confirmado?/*#__PURE__*/_jsx(Button,{variant:\"contained\",fullWidth:true,endIcon:/*#__PURE__*/_jsx(SendIcon,{}),sx:{marginTop:1},type:\"submit\",children:\"Enviar\"}):/*#__PURE__*/_jsx(Button,{variant:\"contained\",fullWidth:true,disabled:true,endIcon:/*#__PURE__*/_jsx(SendIcon,{}),sx:{marginTop:1},type:\"submit\",children:\"Enviar\"})]})});}","map":{"version":3,"names":["React","Box","TextField","Button","useFormik","yup","useAxios","SendIcon","MensajeForm","invitados","confirmado","data","api","handleSubmit","values","console","log","post","response","validationSchema","object","mensaje","string","min","required","formik","initialValues","onSubmit","solicitud","width","padding","display","flexDirection","alignItems","handleChange","touched","Boolean","errors","length","marginTop"],"sources":["C:/Users/Pablo/frontend/src/components/MensajeForm.jsx"],"sourcesContent":["import React from 'react'\r\nimport { Box, TextField, Button } from '@mui/material'\r\nimport { useFormik } from 'formik'\r\nimport * as yup from 'yup';\r\nimport useAxios from '../utils/useAxios';\r\nimport SendIcon from '@mui/icons-material/Send';\r\n\r\n\r\nexport default function MensajeForm({invitados, confirmado, data}) {\r\n\r\n  const api = useAxios();\r\n\r\n  const handleSubmit = async (values) =>{\r\n    console.log(values)\r\n    const response = await api.post('invimasiva/',values)\r\n    console.log(response)\r\n  }\r\n\r\n  const validationSchema = yup.object({\r\n    mensaje: yup.string().min(10,\"el mensaje debe ser superior a 10 caracteres\").required(\"el mensaje es obligatorio\")\r\n  })\r\n  const formik = useFormik({\r\n    initialValues:{\r\n      mensaje : ''\r\n    },\r\n    validationSchema,\r\n    onSubmit: (values) => {\r\n      if(confirmado){\r\n      let solicitud = data[0]\r\n      values = {...values, invitados, solicitud}\r\n      handleSubmit(values)\r\n      }\r\n      \r\n    }\r\n\r\n  })\r\n  return (\r\n\r\n    \r\n    <Box sx={{width:'100%', padding: 2, display:'flex',flexDirection:'column'}}>\r\n      <form onSubmit={formik.handleSubmit} style={{display: 'flex', flexDirection: 'column', alignItems: 'center', width: '100%'}}>\r\n        <TextField\r\n        multiline\r\n        rows = {3}\r\n        label='mensaje'\r\n        name='mensaje'\r\n        onChange={formik.handleChange}\r\n        value={formik.values.mensaje}\r\n        error={formik.touched.mensaje && Boolean(formik.errors.mensaje)}\r\n        helperText={formik.touched.mensaje && formik.errors.mensaje}\r\n        fullWidth= {true}\r\n        \r\n        >\r\n        </TextField>\r\n        {invitados && invitados.length > 0 && confirmado ? <Button variant=\"contained\" fullWidth={true} endIcon={<SendIcon />} sx={{ marginTop: 1}} type=\"submit\">Enviar</Button> :\r\n        <Button variant=\"contained\" fullWidth={true} disabled={true} endIcon={<SendIcon />} sx={{ marginTop: 1 }} type=\"submit\">Enviar</Button> }\r\n      </form>\r\n    </Box>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}